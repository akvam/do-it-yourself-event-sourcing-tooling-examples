Acme\OnlineShop:
  events:
    CustomerStartedShopping:
      doc: 'When the customer enters the online shop the `CustomerStartedShopping` event is recorded.'
      attributes:
        cartId: ~
        customerId: ~
        startedShoppingAt: ~

    ProductWasAddedToCart:
      attributes:
        cartId: ~
        customerId: ~
        sku: ~
        priceInCents:
          constrainType: 'int'
        currency: ~
        addedAt: ~

    ProductWasRemovedFromCart:
      attributes:
        cartId: ~
        customerId: ~
        sku: ~
        priceInCents:
          constrainType: 'int'
        currency: ~
        removedAt: ~

    CustomerPlacedOrder:
      attributes:
        cartId: ~
        customerId: ~
        orderId: ~
        orderLines:
          constrainType: 'array'
        orderPlacedAt: ~

    CustomerAbandonedCart:
      doc: 'After an extended period of no activity the `CustomerStartedShopping` event is recorded.'
      attributes:
        cartId: ~
        customerId: ~
        abandonedAt: ~
